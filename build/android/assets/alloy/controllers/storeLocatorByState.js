function __processArg(e,t){var i=null;return e&&(i=e[t]||null,delete e[t]),i}function Controller(){function e(e){for(var i=[],_=Titanium.UI.createTableView({width:"100%",separatorColor:"#ffffff",backgroundColor:"#FFFFFF"}),l=0;l<e.length;l++){var o=Titanium.UI.createTableViewRow({layout:"vertical",touchEnabled:!1,id:e[l].id,backgroundColor:"#FFFFFF"}),a=t.UI.create("Label",{text:e[l].outlet,id:e[l].id,color:"black",font:{fontSize:24},width:"auto",textAlign:"left",left:20,bottom:10});if(""!=e[l].address)var r=Titanium.UI.createLabel({text:e[l].address,id:e[l].id,font:{fontSize:12},width:"auto",color:"#848484",textAlign:"left",left:20,bottom:10});var s=Titanium.UI.createView({layout:"horizontal",height:80,width:"100%"}),n=Titanium.UI.createView({layout:"vertical",width:"80%"});""==e[l].mobile&&(e[l].mobile="-");var d=Titanium.UI.createLabel({text:"TEL: "+e[l].mobile,id:e[l].id,font:{fontSize:12},width:"auto",color:"#848484",textAlign:"left",left:20});""==e[l].fax&&(e[l].fax="-");var I=Titanium.UI.createLabel({text:"FAX: "+e[l].fax,id:e[l].id,font:{fontSize:12},width:"auto",color:"#848484",textAlign:"left",left:20});(""==e[l].email||null==e[l].email)&&(e[l].email="-");var c=Titanium.UI.createLabel({text:"E-mail: "+e[l].email,id:e[l].id,font:{fontSize:12},width:"auto",color:"#848484",textAlign:"left",left:20});(""==e[l].website||null==e[l].website)&&(e[l].website="-");var w=Titanium.UI.createLabel({text:"Website: "+e[l].website,id:e[l].id,font:{fontSize:12},width:"auto",color:"#848484",textAlign:"left",left:20});switch(e[l].category){case 1:var h="Branches";break;case 2:var h="Stockists";break;case 3:var h="Dealers"}Titanium.UI.createLabel({text:h,id:e[l].id,font:{fontSize:12},width:"auto",color:"#848484",textAlign:"left",left:20});var y=Titanium.UI.createImageView({image:"/images/icon_store.png",width:40,height:40,right:20});y.addEventListener("click",function(){NavigateTo("3.100118","101.686962")});var u=Titanium.UI.createImageView({width:Titanium.UI.FILL,height:30,bottom:-1,touchEnabled:!1,image:"/images/scroll_up.png"});o.add(a),""!=e[l].address&&o.add(r),n.add(d),n.add(I),n.add(c),n.add(w),s.add(n),s.add(y),o.add(s),l<e.length-1&&o.add(u),i.push(o)}_.setData(i),t.tableContainer.add(_)}require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="storeLocatorByState",arguments[0]&&(__processArg(arguments[0],"__parentSymbol"),__processArg(arguments[0],"$model"),__processArg(arguments[0],"__itemTemplate"));var t=this,i={};t.__views.storeLocatorByState=Ti.UI.createView({layout:"vertical",backgroundColor:"white",id:"storeLocatorByState"}),t.__views.storeLocatorByState&&t.addTopLevelView(t.__views.storeLocatorByState),t.__views.__alloyId145=Ti.UI.createView({layout:"horizontal",height:"80",id:"__alloyId145"}),t.__views.storeLocatorByState.add(t.__views.__alloyId145),t.__views.__alloyId146=Alloy.createController("toggle",{id:"__alloyId146",__parentSymbol:t.__views.__alloyId145}),t.__views.__alloyId146.setParent(t.__views.__alloyId145),t.__views.stateName=Ti.UI.createLabel({width:"75%",height:Ti.UI.SIZE,color:"black",font:{fontSize:28},id:"stateName",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER}),t.__views.__alloyId145.add(t.__views.stateName),t.__views.tableContainer=Ti.UI.createView({backgroundColor:"white",id:"tableContainer",height:"auto"}),t.__views.storeLocatorByState.add(t.__views.tableContainer),i.destroy=function(){},_.extend(t,t.__views);var l=arguments[0]||{},o=l.state,a=Alloy.createCollection("storeLocator"),r=a.getStoreByState(o);console.log(r),e(r),t.stateName.text=o,NavigateTo=function(e,t){var _="geo:"+e+","+t;if(Ti.Android)try{Ti.API.info("Trying to Launch via Intent");var l=Ti.Android.createIntent({action:Ti.Android.ACTION_VIEW,data:_});Ti.Android.currentActivity.startActivity(l)}catch(o){Ti.API.info("Caught Error launching intent: "+o),i.Install()}else Ti.Platform.canOpenURL(_)?Ti.Platform.openURL(_):i.Install()},_.extend(t,i)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;