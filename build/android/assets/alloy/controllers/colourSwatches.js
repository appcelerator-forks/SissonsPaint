function __processArg(e,t){var i=null;return e&&(i=e[t]||null,delete e[t]),i}function Controller(){function e(){for(var e=u.length,o=0;e>o;o++)if(""!=u[o]){var a=Titanium.UI.createImageView({width:Titanium.UI.FILL,height:30,touchEnabled:!1,image:"/images/scroll_up.png"});"1"==c?c="0":i.TheScrollView.add(a);var r=n.getCategoryColourByCategory(u[o].id),l=Titanium.UI.createImageView({width:"95%",height:Ti.UI.SIZE,touchEnabled:!1,top:15,image:u[o].image}),_=i.UI.create("Label",{width:"95%",text:u[o].description,width:"95%",classes:["aboutContent"],bottom:30});i.TheScrollView.add(l),i.TheScrollView.add(_);var d=i.UI.create("View",{textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,layout:"horizontal",width:"95%",bottom:10,height:Ti.UI.SIZE}),h=0;r.forEach(function(e){var a=i.UI.create("View",{textAlign:Ti.UI.TEXT_ALIGNMENT_RIGHT,layout:"vertical",width:"25%",top:3,height:Ti.UI.SIZE}),r=s.getColourById(e.colour_id);if(""!=r.sample)var l=i.UI.create("ImageView",{image:r.sample,borderColor:"#A5A5A5",borderWidth:1,width:"97%",height:"80"});else var l=i.UI.create("View",{backgroundColor:"rgb("+r.rgb+")",borderColor:"#A5A5A5",borderWidth:1,width:"97%",height:"80"});var _=i.UI.create("Label",{text:r.name,classes:["colorDesc"]}),n=i.UI.create("Label",{text:r.code,classes:["colorDesc"],bottom:10});t(a,r,u[o]),a.add(l),a.add(_),a.add(n),d.add(a),h++}),i.TheScrollView.add(d)}}function t(e,t,i){e.addEventListener("click",function(){var e=Alloy.createController("colourDetails",{colour_details:t,details:i}).getView();e.open()})}require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="colourSwatches",arguments[0]&&(__processArg(arguments[0],"__parentSymbol"),__processArg(arguments[0],"$model"),__processArg(arguments[0],"__itemTemplate"));var i=this,o={},a={};i.__views.mainViewContainer=Ti.UI.createView({backgroundColor:"white",id:"mainViewContainer"}),i.__views.mainViewContainer&&i.addTopLevelView(i.__views.mainViewContainer),i.__views.__alloyId68=Ti.UI.createView({layout:"vertical",id:"__alloyId68"}),i.__views.mainViewContainer.add(i.__views.__alloyId68),i.__views.__alloyId69=Ti.UI.createView({layout:"horizontal",height:"80",id:"__alloyId69"}),i.__views.__alloyId68.add(i.__views.__alloyId69),i.__views.__alloyId70=Alloy.createController("toggle",{id:"__alloyId70",__parentSymbol:i.__views.__alloyId69}),i.__views.__alloyId70.setParent(i.__views.__alloyId69),i.__views.titleLabel=Ti.UI.createLabel({width:"75%",height:Ti.UI.SIZE,color:"black",font:{fontSize:"22"},text:"Colour Swatches",id:"titleLabel",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER}),i.__views.__alloyId69.add(i.__views.titleLabel),i.__views.TheScrollView=Ti.UI.createScrollView({id:"TheScrollView",backgroundColor:"white",width:"100%",layout:"vertical",contentHeight:Ti.UI.SIZE,height:"80%",top:"0",overScrollMode:Titanium.UI.Android.OVER_SCROLL_NEVER}),i.__views.__alloyId68.add(i.__views.TheScrollView),i.__views.toolbar=Ti.UI.createView({height:"60",bottom:"0",id:"toolbar",width:"100%",backgroundImage:"/images/tool_bar.jpg"}),i.__views.__alloyId68.add(i.__views.toolbar),i.__views.__alloyId71=Ti.UI.createView({layout:"horizontal",width:"100%",id:"__alloyId71"}),i.__views.toolbar.add(i.__views.__alloyId71),i.__views.__alloyId72=Ti.UI.createView({width:"30%",id:"__alloyId72"}),i.__views.__alloyId71.add(i.__views.__alloyId72),i.__views.__alloyId73=Ti.UI.createView({width:"20%",id:"__alloyId73"}),i.__views.__alloyId71.add(i.__views.__alloyId73),i.__views.filterButton=Ti.UI.createImageView({id:"filterButton",image:"/images/icon_filter.png",height:"40",width:"50",top:"10",bottom:"10"}),i.__views.__alloyId73.add(i.__views.filterButton),E?i.__views.filterButton.addEventListener("click",E):a["$.__views.filterButton!click!filter"]=!0,i.__views.__alloyId74=Ti.UI.createView({width:"20%",id:"__alloyId74"}),i.__views.__alloyId71.add(i.__views.__alloyId74),i.__views.searchButton=Ti.UI.createImageView({id:"searchButton",image:"/images/icon_search.png",height:"40",width:"50",top:"10",bottom:"10"}),i.__views.__alloyId74.add(i.__views.searchButton),A?i.__views.searchButton.addEventListener("click",A):a["$.__views.searchButton!click!search"]=!0,i.__views.__alloyId75=Ti.UI.createView({width:"30%",id:"__alloyId75"}),i.__views.__alloyId71.add(i.__views.__alloyId75),i.__views.win=Ti.UI.createView({id:"win",height:"80%",width:"80%",backgroundColor:"transparent",theme:"Theme.NoActionBar",navBarHidden:"true",fullscreen:"true",borderColor:"#A5A5A5",borderWidth:"2",visible:"false"}),i.__views.mainViewContainer.add(i.__views.win);var r=[];i.__views.view1=Ti.UI.createView({id:"view1",backgroundColor:"white"}),r.push(i.__views.view1),i.__views.__alloyId77=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,color:"black",text:"View 1",id:"__alloyId77"}),i.__views.view1.add(i.__views.__alloyId77),i.__views.view2=Ti.UI.createView({id:"view2",backgroundColor:"white"}),r.push(i.__views.view2),i.__views.__alloyId78=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,color:"black",text:"View 2",id:"__alloyId78"}),i.__views.view2.add(i.__views.__alloyId78),i.__views.view3=Ti.UI.createView({id:"view3",backgroundColor:"white"}),r.push(i.__views.view3),i.__views.__alloyId79=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,color:"black",text:"View 3",id:"__alloyId79"}),i.__views.view3.add(i.__views.__alloyId79),i.__views.__alloyId80=Ti.UI.createView({layout:"horizontal",bottom:"10",height:Ti.UI.SIZE,width:Ti.UI.SIZE,id:"__alloyId80"}),i.__views.view3.add(i.__views.__alloyId80),i.__views.checkBox=Ti.UI.createSwitch({value:!1,id:"checkBox",style:Ti.UI.Android.SWITCH_STYLE_CHECKBOX}),i.__views.__alloyId80.add(i.__views.checkBox),i.__views.showWindow=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,color:"black",text:"Don't show next time",id:"showWindow"}),i.__views.__alloyId80.add(i.__views.showWindow),i.__views.scrollableView=Ti.UI.createScrollableView({views:r,id:"scrollableView",showPagingControl:"true",pagingControlTimeout:"0"}),i.__views.win.add(i.__views.scrollableView),o.destroy=function(){},_.extend(i,i.__views),arguments[0]||{};var l=Alloy.createCollection("category"),n=Alloy.createCollection("category_colour"),s=Alloy.createCollection("colour"),d=0,c="1",h=3797,w=[],u=l.getCategoryListByType("2",d,"0");i.TheScrollView.height=PixelsToDPUnits(Ti.Platform.displayCaps.platformHeight)-140,Ti.App.Properties.setString("currentCategory","All"),setTimeout(function(){e()},1e3),Ti.Platform.displayCaps.platformHeight;var v=Alloy.createCollection("category_type"),I=v.selectTypeByDistinct(),g=0,y=0,T=Titanium.UI.createView({layout:"composite",width:"100%",height:80,bottom:60,backgroundColor:"#A5A5A5"}),p=Ti.UI.createTableViewRow({title:"All",width:150,left:10,touchEnabled:!0,height:60});w.push(p),I.forEach(function(e){var t=Ti.UI.createTableViewRow({title:e.tag,width:150,left:10,touchEnabled:!0,height:60});w.push(t)});var m=Titanium.UI.createTableView({separatorColor:"transparent",backgroundImage:"/images/pop_window.png",height:Ti.UI.SIZE,width:150,bottom:60,zIndex:999,left:"20%",data:w}),f=function(t){if(y=0,i.mainViewContainer.remove(m),removeAllChildren(i.TheScrollView),0==t.index)u=l.getCategoryListByType("2",3),e();else{Ti.App.Properties.setString("currentCategory",t.rowData.title);var o=v.getCategoryTypeByTag(t.rowData.title),a=[];u=[],o.forEach(function(e){a=l.getCategoryById(e.cate_id,"2",0),""!=a&&u.push(a)}),e()}},E=function(){b(),i.mainViewContainer.remove(T),g=0,1==y?(y=0,i.mainViewContainer.remove(m)):(y=1,i.mainViewContainer.add(m),m.addEventListener("click",f))},b=function(){m.removeEventListener("click",f)},A=function(){if(i.mainViewContainer.remove(m),y=0,1==g)g=0,i.mainViewContainer.remove(T);else{g=1;var e=Ti.UI.createLabel({text:"Enter Colour, Name or Colour Code",color:"#A5A5A5",font:{fontSize:14},backgroundColor:"transparent"}),t=Ti.UI.createTextField({borderStyle:Ti.UI.INPUT_BORDERSTYLE_ROUNDED,color:"black",hintText:"Enter Colour, Name or Colour Code",backgroundColor:"white",borderColor:"#A5A5A5",borderRadius:5,font:e.font,left:10,top:10,width:"70%",height:60}),o=Ti.UI.createButton({backgroundColor:"white",color:"#A5A5A5",textAlign:"Titanium.UI.TEXT_ALIGNMENT_CENTER",title:"SEARCH",borderColor:"#A5A5A5",borderRadius:5,left:5,top:10,height:60}),a=Titanium.UI.createView({layout:"horizontal"});a.add(t),a.add(o),T.add(a),i.mainViewContainer.add(T),o.addEventListener("click",function(){if(g=0,Ti.UI.Android.hideSoftKeyboard(),0!=t.value.length){Ti.App.Properties.setString("query",t.value);var e=Alloy.createController("search").getView();Alloy.Globals.Drawer.setCenterWindow(e)}i.mainViewContainer.remove(T)})}};Ti.App.Properties.setString("swatchMinHeight",h),i.TheScrollView.addEventListener("scroll",function(t){var i=Ti.App.Properties.getString("swatchMinHeight");if(t.y>=i){i=parseInt(i)+parseInt(h),Ti.App.Properties.setString("swatchMinHeight",i),d+=3;var o=Ti.App.Properties.getString("currentCategory");if("All"!=o){var a=v.getCategoryTypeByTag(o),r=[];u=[],a.forEach(function(e){r=l.getCategoryById(e.cate_id,"2",d),""!=r&&u.push(r)})}else u=l.getCategoryListByType("2",d);e()}}),i.win.hide();var U=Ti.UI.createImageView({image:"/images/icon_remove.png",width:30,height:30,top:0,right:0});i.view3.add(U),U.addEventListener("click",function(){i.win.hide()}),a["$.__views.filterButton!click!filter"]&&i.__views.filterButton.addEventListener("click",E),a["$.__views.searchButton!click!search"]&&i.__views.searchButton.addEventListener("click",A),_.extend(i,o)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;