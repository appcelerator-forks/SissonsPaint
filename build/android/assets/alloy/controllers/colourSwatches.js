function __processArg(e,t){var i=null;return e&&(i=e[t]||null,delete e[t]),i}function Controller(){function e(){for(var e=0;e<l.length;e++)if(""!=l[e]){var i=r.getCategoryColourByCategory(l[e].id),o=Titanium.UI.createImageView({width:"95%",height:Ti.UI.SIZE,touchEnabled:!1,top:15,image:l[e].image}),n=a.getColourById(colour.colour_id);t.UI.create("View",{backgroundColor:"rgb("+n.rgb+")",borderColor:"#A5A5A5",borderWidth:1,width:"97%",height:"80"});var s=t.UI.create("Label",{width:"95%",text:l[e].description,width:"95%",classes:["aboutContent"],bottom:30});return t.TheScrollView.add(o),t.TheScrollView.add(s),t.UI.create("View",{textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,layout:"horizontal",width:"95%",bottom:10,height:Ti.UI.SIZE}),void console.log(i)}t.mainViewContainer.add(h)}require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="colourSwatches",arguments[0]&&(__processArg(arguments[0],"__parentSymbol"),__processArg(arguments[0],"$model"),__processArg(arguments[0],"__itemTemplate"));var t=this,i={};t.__views.mainViewContainer=Ti.UI.createView({backgroundColor:"white",id:"mainViewContainer"}),t.__views.mainViewContainer&&t.addTopLevelView(t.__views.mainViewContainer),t.__views.__alloyId47=Ti.UI.createView({layout:"vertical",id:"__alloyId47"}),t.__views.mainViewContainer.add(t.__views.__alloyId47),t.__views.__alloyId48=Ti.UI.createView({layout:"horizontal",height:"80",id:"__alloyId48"}),t.__views.__alloyId47.add(t.__views.__alloyId48),t.__views.__alloyId49=Alloy.createController("toggle",{id:"__alloyId49",__parentSymbol:t.__views.__alloyId48}),t.__views.__alloyId49.setParent(t.__views.__alloyId48),t.__views.titleLabel=Ti.UI.createLabel({width:"75%",height:Ti.UI.SIZE,color:"black",font:{fontSize:"22"},text:"Colour Swatches",id:"titleLabel",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER}),t.__views.__alloyId48.add(t.__views.titleLabel),t.__views.TheScrollView=Ti.UI.createScrollView({id:"TheScrollView",backgroundColor:"white",width:"100%",layout:"vertical",height:"80%",top:"0",overScrollMode:Titanium.UI.Android.OVER_SCROLL_NEVER}),t.__views.__alloyId47.add(t.__views.TheScrollView),i.destroy=function(){},_.extend(t,t.__views),arguments[0]||{};var o=Alloy.createCollection("category"),r=Alloy.createCollection("category_colour"),a=Alloy.createCollection("colour"),l=o.getCategoryListByType(2);Ti.Platform.displayCaps.platformHeight;var n=Alloy.createCollection("category_type"),s=n.selectTypeByDistinct();console.log(s);var d=0,c=0,h=Titanium.UI.createView({layout:"composite",bottom:0,height:60,width:Ti.Platform.displayCaps.platformWidth}),u=Titanium.UI.createView({layout:"horizontal",left:(Ti.Platform.displayCaps.platformWidth-120)/2,width:120}),g=Ti.UI.createImageView({height:60,width:Ti.UI.FILL,image:"/images/tool_bar.jpg"}),I=Ti.UI.createImageView({width:50,height:40,right:10,top:10,bottom:10,image:"/images/icon_filter.png"}),w=Ti.UI.createImageView({width:50,height:40,left:10,top:10,bottom:10,image:"/images/icon_search.png"}),v=Titanium.UI.createView({layout:"composite",width:"100%",height:80,bottom:60,backgroundColor:"#A5A5A5"}),p=[],y=Ti.UI.createTableViewRow({title:"All",width:150,left:10,touchEnabled:!0,height:60});p.push(y),s.forEach(function(e){var t=Ti.UI.createTableViewRow({title:e.tag,width:150,left:10,touchEnabled:!0,height:60});p.push(t)});var m=Titanium.UI.createTableView({separatorColor:"transparent",backgroundImage:"/images/pop_window.png",height:Ti.UI.SIZE,width:150,bottom:60,zIndex:999,center:I.getCenter(),data:p});u.add(I),u.add(w),h.add(g),h.add(u),e(),t.TheScrollView.height=PixelsToDPUnits(Ti.Platform.displayCaps.platformHeight)-140;var T=function(i){if(console.log(i.index),c=0,t.mainViewContainer.remove(m),removeAllChildren(t.TheScrollView),0==i.index)l=o.getCategoryListByType("2"),e();else{var r=n.getCategoryTypeByTag(i.rowData.title),a=[];l=[],r.forEach(function(e){a=o.getCategoryById(e.cate_id,"2"),l.push(a)}),console.log(l),e()}};I.addEventListener("click",function(){console.log("popWindow"),f(),t.mainViewContainer.remove(v),d=0,1==c?(c=0,t.mainViewContainer.remove(m)):(c=1,t.mainViewContainer.add(m),m.addEventListener("click",T))});var f=function(){m.removeEventListener("click",T)};w.addEventListener("click",function(){if(console.log("searchBar"),console.log("start:"+d),t.mainViewContainer.remove(m),c=0,1==d)d=0,console.log("change:"+d),t.mainViewContainer.remove(v);else{d=1;var e=Ti.UI.createLabel({text:"Enter Colour, Name or Colour Code",color:"#A5A5A5",font:{fontSize:14},backgroundColor:"transparent"}),i=Ti.UI.createTextField({borderStyle:Ti.UI.INPUT_BORDERSTYLE_ROUNDED,color:"black",hintText:"Enter Colour, Name or Colour Code",backgroundColor:"white",borderColor:"#A5A5A5",borderRadius:5,font:e.font,left:10,top:10,width:"70%",height:60}),o=Ti.UI.createButton({backgroundColor:"white",color:"#A5A5A5",textAlign:"Titanium.UI.TEXT_ALIGNMENT_CENTER",title:"SEARCH",borderColor:"#A5A5A5",borderRadius:5,left:5,top:10,height:60}),r=Titanium.UI.createView({layout:"horizontal"});r.add(i),r.add(o),v.add(r),t.mainViewContainer.add(v),o.addEventListener("click",function(){if(d=0,Ti.UI.Android.hideSoftKeyboard(),0!=i.value.length){Ti.App.Properties.setString("query",i.value);var e=Alloy.createController("search").getView();Alloy.Globals.Drawer.setCenterWindow(e)}t.mainViewContainer.remove(v)})}}),_.extend(t,i)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;