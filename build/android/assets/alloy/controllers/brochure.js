function __processArg(e,t){var i=null;return e&&(i=e[t]||null,delete e[t]),i}function Controller(){function e(e,t,i,r,n,a){e.addEventListener("click",function(){var l=Titanium.UI.createProgressBar({width:"90%",height:Ti.UI.FILL,min:0,max:1,value:0,message:"",font:{fontSize:12},color:"red"}),_=e.size.height,d=e.size.width,h=Titanium.UI.createView({height:_,width:d,backgroundColor:"#A5A5A5",opacity:.5,bottom:0}),c=Ti.UI.createLabel({color:"black",font:{fontSize:8,fontWeight:"bold"},text:"",top:2,textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,width:d,height:_});"0"==n?(r.add(h),r.add(l),r.add(c)):(r.remove(h),r.remove(l),r.remove(c)),o(i,!0,l,c,function(e){e?alert(e):(s.updateDownloadedBrochure(t),""!=a&&r.remove(a),r.remove(h),r.remove(l),r.remove(c))})})}function t(e,t,i){e.addEventListener("click",function(){n.playVideo(i)})}require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="brochure",arguments[0]&&(__processArg(arguments[0],"__parentSymbol"),__processArg(arguments[0],"$model"),__processArg(arguments[0],"__itemTemplate"));var i=this,r={};i.__views.brochureView=Ti.UI.createView({backgroundColor:"white",id:"brochureView",backgroundImage:"/images/wood_background.jpg"}),i.__views.brochureView&&i.addTopLevelView(i.__views.brochureView),i.__views.__alloyId15=Ti.UI.createView({layout:"vertical",id:"__alloyId15"}),i.__views.brochureView.add(i.__views.__alloyId15),i.__views.__alloyId16=Ti.UI.createView({layout:"horizontal",height:"80",id:"__alloyId16"}),i.__views.__alloyId15.add(i.__views.__alloyId16),i.__views.__alloyId17=Alloy.createController("toggle",{id:"__alloyId17",__parentSymbol:i.__views.__alloyId16}),i.__views.__alloyId17.setParent(i.__views.__alloyId16),i.__views.__alloyId18=Ti.UI.createLabel({width:"75%",height:Ti.UI.SIZE,color:"black",font:{fontSize:28},text:"Brochure",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,id:"__alloyId18"}),i.__views.__alloyId16.add(i.__views.__alloyId18),i.__views.scrollview=Ti.UI.createScrollView({id:"scrollview",layout:"vertical",overScrollMode:Titanium.UI.Android.OVER_SCROLL_NEVER}),i.__views.__alloyId15.add(i.__views.scrollview),i.__views.mainView=Ti.UI.createView({id:"mainView",layout:"vertical",height:Ti.UI.SIZE,width:"80%"}),i.__views.scrollview.add(i.__views.mainView),i.__views.__alloyId19=Ti.UI.createView({backgroundColor:"green",height:"60",bottom:"0",id:"__alloyId19"}),i.__views.brochureView.add(i.__views.__alloyId19),i.__views.__alloyId20=Ti.UI.createImageView({image:"/images/tool_bar.jpg",height:"60",width:Titanium.UI.FILL,id:"__alloyId20"}),i.__views.__alloyId19.add(i.__views.__alloyId20),i.__views.filterButton=Ti.UI.createImageView({id:"filterButton",image:"/images/icon_filter.png",height:"40"}),i.__views.__alloyId19.add(i.__views.filterButton),r.destroy=function(){},_.extend(i,i.__views),arguments[0]||{};var o=require("pdf"),n=require("titutorial.youtubeplayer"),s=Alloy.createCollection("brochure"),a=s.getBrochureList(),l=function(){for(var r,o,n,s,l,_=0,d="",h=a.length-1,c=0;c<a.length;c++){var u=a[c].id;if(r=a[c].cover,o=Ti.UI.createImageView({image:r,bottom:0,width:90,height:"auto"}),_%3==0&&(n=i.UI.create("View",{textAlign:"center",bottom:0,layout:"vertical",height:Ti.UI.SIZE,width:"100%"}),s=Ti.UI.createImageView({image:"/images/wood_rack.png",top:0,width:"100%",right:5,left:5}),l=Titanium.UI.createView({layout:"horizontal",height:Ti.UI.SIZE,width:"100%",bottom:0,left:"5%",right:"5%"})),d=i.UI.create("View",{bottom:"0",height:Ti.UI.SIZE,width:"30%",right:5}),d.add(o),l.add(d),n.add(l),n.add(s),"pdf"==a[c].format){var p="";"0"==a[c].isDownloaded&&(p=Ti.UI.createImageView({image:"/images/icon_download.png",width:30,height:30,top:0,right:0}),d.add(p)),e(o,u,a[c].content,d,a[c].isDownloaded,p)}else t(o,u,a[c].url),playIcon=Ti.UI.createImageView({image:"/images/icon_play.png",width:40,height:40}),d.add(playIcon);(_%3==2||h==_)&&i.scrollview.add(n),_++}};l(),_.extend(i,r)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;